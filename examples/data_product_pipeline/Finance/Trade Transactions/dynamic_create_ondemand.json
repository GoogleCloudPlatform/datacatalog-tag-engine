{
    "template_id": "data_resource",
    "project_id": "data-mesh-344315",
    "region": "us-central1",
    "fields": [
        {
            "field_id": "data_confidentiality",
            "query_expression": "select case when count > 0 then 'SENSITIVE' else 'SHARED_INTERNALLY' end as data_confidentiality from (select count(*) as count from tag-engine-develop.tag_history.data_attribute where starts_with(asset_name, '$project/dataset/$dataset/table/$table/'))"
        },
        {
            "field_id": "num_fields",
            "query_expression": "select count(*) from $project.$dataset.INFORMATION_SCHEMA.COLUMNS where table_name = '$table'"
        },
		{
            "field_id": "num_records",
            "query_expression": "select row_count from `$project.$dataset.__TABLES__` where table_id = '$table'"
        },
        {
            "field_id": "size",
            "query_expression": "select round(size_bytes/1048576, 2) from `$project.$dataset.__TABLES__` where table_id = '$table'"
        },
        {
            "field_id": "recent_data_update",
            "query_expression": "select cast(timestamp_millis(last_modified_time) as datetime) from `$project.$dataset.__TABLES__` where table_id = '$table'"
        },
        {
            "field_id": "global_id_customer",
            "query_expression": "select False"
        },
        {
            "field_id": "global_id_account",
            "query_expression": "select False"
        },
        {
            "field_id": "global_id_location",
            "query_expression": "select False"
        },
        {
            "field_id": "global_id_product",
            "query_expression": "select False"
        }
    ],
    "included_uris": "bigquery/project/data-mesh-343422/dataset/oltp/*",
    "excluded_uris": "",
    "refresh_mode": "ON_DEMAND",
    "tag_history": true,
    "tag_stream": false  
}
